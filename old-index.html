<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title></title>
    <link rel="stylesheet" href="bootstrap.min.css" media="screen" title="no title">
  </head>
  <body>

    <div class="col-md-offset-2 col-md-5">
      <div class="panel panel-success">
        <div class="panel-heading">
          <h2>Chat</h2>
        </div>
        <div class="panel-body">
          <div class="well well-sm">
            <h5 class="welcome"></h5>
            <div id="new-message">
              <b>Welcome to Chat</b>
            </p>
            <h3>Messages</h3>
          </div>
        </div>
      </div>
      <div class="form-group">
        <input type="text" name="name" value="" class="form-control" id="msg-box">
      </div>
      <button type="button" id="send-msg" name="button" class="btn btn-default">SEND</button>
    </div>

    <script src="jquery.js" charset="utf-8"></script>
    <script type="text/javascript">
    var conn = new WebSocket('ws://localhost:8080');
      (function(){
        conn.onopen = function(e) {
          $('.welcome').html("Connection established!");

        };
        conn.onmessage = function(e) {
          // console.log(e.data);
          $("#new-message").after( "<p>"+e.data+"</p>" );
        };

      })();

      $("#send-msg").click(function(){
        var message = $('#msg-box').val();
        conn.send(message);
        $('#msg-box').val(' ');
      })

      $("send-msg").keypress(function(e){
        console.log(e);
      })
    </script>
  </body>
</html>
